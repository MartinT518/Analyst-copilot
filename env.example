# =============================================================================
# ANALYST COPILOT - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and configure for your environment
# NEVER commit .env to version control

# =============================================================================
# SECURITY CONFIGURATION (REQUIRED)
# =============================================================================
# These values MUST be set in production - system will fail to start without them
SECRET_KEY=your-secure-secret-key-change-this-in-production
JWT_SECRET_KEY=your-jwt-secret-key-change-this-in-production
ENCRYPTION_KEY=your-encryption-key-change-this-in-production

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://acp_user:acp_password@postgres:5432/acp_db
REDIS_URL=redis://redis:6379/0

# =============================================================================
# VECTOR DATABASE CONFIGURATION
# =============================================================================
CHROMA_HOST=chroma
CHROMA_PORT=8000

# =============================================================================
# LLM CONFIGURATION
# =============================================================================
LLM_ENDPOINT=https://ai.int.cyber.ee/openai
EMBEDDING_ENDPOINT=http://ai.int.cyber.ee:8083/v1
OPENAI_API_KEY=your-openai-api-key

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================
# OAuth2/OIDC Configuration
OAUTH2_CLIENT_ID=your-oauth2-client-id
OAUTH2_CLIENT_SECRET=your-oauth2-client-secret
OAUTH2_AUTHORIZATION_URL=https://your-auth-provider.com/oauth/authorize
OAUTH2_TOKEN_URL=https://your-auth-provider.com/oauth/token
OAUTH2_USERINFO_URL=https://your-auth-provider.com/oauth/userinfo
OAUTH2_REDIRECT_URI=http://localhost:3000/auth/callback

# =============================================================================
# VAULT CONFIGURATION (OPTIONAL)
# =============================================================================
VAULT_URL=https://vault.example.com
VAULT_TOKEN=your-vault-token
VAULT_NAMESPACE=acp
VAULT_MOUNT_POINT=secret
VAULT_AUTH_METHOD=token

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With

# =============================================================================
# OBSERVABILITY CONFIGURATION
# =============================================================================
# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/app/logs/app.log

# OpenTelemetry
OTEL_EXPORTER_JAEGER_ENDPOINT=http://jaeger:14268/api/traces
OTEL_SERVICE_NAME=acp-ingest
OTEL_RESOURCE_ATTRIBUTES=service.name=acp-ingest,service.version=1.0.0

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# =============================================================================
# RESILIENCE CONFIGURATION
# =============================================================================
# Circuit Breaker
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
CIRCUIT_BREAKER_EXPECTED_EXCEPTION=httpx.HTTPError

# Retry Configuration
RETRY_MAX_ATTEMPTS=3
RETRY_BACKOFF_FACTOR=2
RETRY_MAX_DELAY=60

# =============================================================================
# ENVIRONMENT SPECIFIC
# =============================================================================
ENVIRONMENT=development
DEBUG=false
SSL_ENABLED=false
SSL_CERT_FILE=
SSL_KEY_FILE=

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE=10485760
ALLOWED_EXTENSIONS=txt,pdf,docx,md,csv

# =============================================================================
# PII DETECTION
# =============================================================================
PII_DETECTION_ENABLED=true
PII_MASKING_ENABLED=true
PII_MASKING_CHAR=*
